<div class="" ng-controller="InfoSummaryCtrl">

    <!-- Display an error message if the user haven't select a project yet -->
    <div class="container alert alert-danger col-sm-offset-3 col-sm-6 text-center"
         ng-hide="getActiveProject().id" role="alert">
        <span class="glyphicon glyphicon-exclamation-sign"
              aria-hidden="true"></span>
        <span class="sr-only">Error:</span>
        No project selected. In order to view a graph, you need to select or
        create
        a project!
    </div>

    <div ng-show="getActiveProject().id">
        <div class="container lead panel">
            <dl class="dl-horizontal">
                <dt></dt>
                <dd>

                </dd>

                <dt>ID:</dt>
                <dd>{{activeProject.id}}</dd>

                <dt>Project Name:</dt>
                <dd>{{activeProject.name}}</dd>

                <dt>Options:</dt>
                <dd>
                    <!-- =============== PROJECT GRAPH OPTIONS =============== -->
                    <div class="btn-group" role="group" aria-label="...">
                        <!-- back btn-->
                        <a class="btn btn-default hvr-icon-back"
                           ng-href=" #project"
                           data-trigger="hover" data-placement="bottom"
                           title="Return to the project listings">
                            Back &nbsp;
                        </a>

                        <!-- reset btn -->
                        <button type="button"
                                class="btn btn-default hvr-icon-sink-away"
                                data-trigger="hover" data-placement="bottom"
                                data-toggle="modal" data-target=".reset"
                                title="Clear the graph. Be careful!">
                            Reset &nbsp;
                        </button>

                        <!-- save btn -->
                        <button type="button"
                                class="btn btn-default hvr-icon-push"
                                data-trigger="hover" data-placement="bottom"
                                data-toggle="modal" data-target=".save"
                                title="Save the current state of the graph for future used">
                            Save &nbsp;
                        </button>

                        <!-- load btn -->
                        <button type="button"
                                class="btn btn-default hvr-icon-spin"
                                data-trigger="hover" data-placement="bottom"
                                data-toggle="modal" data-target=".load"
                                title="Load the the graph previous saved state">
                            Load &nbsp;
                        </button>

                        <!-- run project btn-->
                        <button data-trigger="hover" data-placement="bottom"
                                class="btn" ng-class="getBtnClass()"
                                title="Start the project"
                                ng-click="toggleRunBtn(run,stop)">
                            {{displayBtnText('Run Project')}}
                            <i class="fa fa-cog fa-fw "
                               ng-class="getIconClass()">
                            </i>
                        </button>
                    </div>
                </dd>
            </dl>


            <!-- =============== CONFIRMATION MODAL =============== -->

            <!-- ensure that button and confirm-box are matching! example below
            The data-target should be preceded by a period: . (It is a class)

            on the button element: : data-toggle="modal" data-target=".reset"
            on the confirm-box element: target="reset"-->

            <!-- reset -->
            <confirm-box target="reset" title="Confirm Reset"
                         update-fn="resetGraph()"
                         content="All unsaved changes will be lost. Please confirm.">
            </confirm-box>

            <!-- save -->
            <confirm-box target="save" title="Confirm Save"
                         update-fn="saveGraph()"
                         content="All changes to the graph will be saved. Please confirm.">
            </confirm-box>

            <!-- load -->
            <confirm-box target="load" title="Confirm Load"
                         update-fn="loadGraph()"
                         content="All unsaved changes will be lost when you load a graph. Please confirm.">
            </confirm-box>
        </div>

        <div id="paper" ng-show="getActiveProject().id"></div>
    </div>
</div>


<script>
    $(function() {
        $('[data-trigger="hover"]').tooltip()
    });

    /**
     * MAIN_GRAPH is an empty Graph object instantiated from the
     * joint_setup.js file
     *
     * When the user loads up a graph, they are reassigning MAIN_GRAPH to whatever
     * graph the user has. It would look like this: MAIN_GRAPH = joeProject.graph
     *
     * The view will update base on whatever the graph is
     *
     * Paper is the container for the view, the window to the view.
     */
    var paper = new joint.dia.Paper({
        el: $('#paper'),
        width: 1200,
        height: 600,
        gridSize: 1,
        model: MAIN_GRAPH,
        perpendicularLinks: true,
        restrictTranslate: true
    });
</script>